# React Firebase Deployment Skill

Automates creation and deployment of production-ready React applications with Firebase backend (Firestore, Authentication, Hosting).

## Overview

This skill provides complete automation for:
- Creating new React + Vite projects
- Setting up Firebase backend infrastructure
- Configuring Firestore database with security rules
- Deploying to Firebase Hosting
- Implementing authentication (Email/Password, Google Sign-in)

**Time savings**: Reduces 2-3 hours of manual setup to 10-15 minutes.

## Installation

### Via Claude Code Plugin Marketplace

```bash
# 1. Add marketplace
/plugin marketplace add jkf87/react-firebase-skill

# 2. Install plugin
/plugin install react-firebase

# 3. Restart Claude Code (if needed)
# Cmd+Shift+P (Mac) or Ctrl+Shift+P (Windows/Linux)
# Select "Developer: Reload Window"
```

### Local Installation

```bash
# 1. Clone repository
git clone https://github.com/jkf87/react-firebase-skill.git
cd react-firebase-skill

# 2. Copy to Claude Code skills directory
mkdir -p ~/.claude/skills/react-firebase
cp -r . ~/.claude/skills/react-firebase/

# 3. Verify installation
/plugin list
```

### Verify Installation

Check if skill is properly installed:

```bash
# In Claude Code
/plugin list

# Look for "react-firebase" in output
# ✓ react-firebase (3.2.0) - enabled
```

## Quick Start

### Usage

Trigger this skill by requesting:

**English**:
```
"Create a React app with Firebase backend"
"Build a todo app using React and Firestore"
"Set up a React + Firebase project with authentication"
"Make a chat app with Firebase"
```

**Korean**:
```
"React와 Firebase로 todo 앱 만들어줘"
"Firebase 백엔드 사용해서 채팅 앱 만들어줘"
"firebase skill을 사용해서 블로그 앱 만들어줘"
```

### Automated Process

The skill automatically:

1. **Creates Firebase Project** (CLI auto-execution)
   ```bash
   npx firebase projects:create your-app-1729680000
   ```

2. **Extracts Firebase Config** (real API keys)
   ```bash
   npx firebase apps:sdkconfig WEB <app-id>
   ```

3. **Creates React Project** (Vite + Tailwind CSS)
   ```bash
   npm create vite@latest your-app -- --template react
   ```

4. **Integrates Firebase** (with real config values)
   - Writes real API keys to `.env`
   - Creates Firebase config files
   - Deploys Firestore security rules

5. **Deploys Firestore**
   ```bash
   npx firebase deploy --only firestore
   ```

6. **Deploys Hosting**
   ```bash
   npm run build
   npx firebase deploy --only hosting
   ```

7. **Provides Live URL**
   ```
   ✅ Deployed: https://your-app-1729680000.web.app
   ```

## Features

### Fully Automated

- ✅ Firebase CLI auto-install and login check
- ✅ Firebase project auto-creation (always new project)
- ✅ Web app auto-registration
- ✅ **Real API keys auto-extracted** (no placeholders!)
- ✅ Firebase config auto-integrated into React project
- ✅ Firestore security rules auto-deployed
- ✅ Firebase Hosting auto-deployed
- ✅ **One command to completion**

### Tech Stack Included

- **Frontend**: React 19 + Vite 7
- **Styling**: Tailwind CSS 3
- **Backend**: Firebase Firestore
- **Authentication**: Firebase Authentication
- **Hosting**: Firebase Hosting
- **Security**: User-specific data isolation rules

### Generated Components

Complete implementations auto-generated by the skill:

- 🔐 **Auth Components**
  - `Login.jsx` - Email/Password + Google sign-in
  - `SignUp.jsx` - User registration
  - `Header.jsx` - Navigation + logout

- 📦 **Layout Components**
  - Responsive header
  - Auth state management

- 🔌 **Custom Hooks**
  - `useTodos.js` - Firestore CRUD operations
  - Real-time data synchronization
  - Error handling

- ⚙️ **Firebase Config**
  - `src/firebase/config.js` - Firebase initialization
  - Environment variable management
  - Firestore, Auth exports

## Workflows

### Workflow 1: New Project Creation

**From empty directory → Live URL with complete automation**

```
User: "Create a todo app with Firebase"

Claude:
1. Asks for project name
2. Checks/installs Firebase CLI
3. Creates Firebase project ← First!
4. Registers web app
5. Gets Firebase config
6. Creates React project ← Config ready
7. Installs dependencies
8. Writes .env with real values
9. Creates Firebase config files
10. Deploys Firestore security rules
11. Implements components (App, Login, Header, etc.)
12. Builds and deploys to Hosting

Result: https://todo-app-1729680000.web.app ✅
```

**Duration**: 10-15 minutes (automated)

### Workflow 2: Add Firebase to Existing Project

Integrate Firebase backend into existing React app:

```bash
# In existing React project directory
"Add Firebase backend to this project"
```

Skill automatically:
- Creates Firebase project
- Installs Firebase SDK
- Sets up Firestore
- Adds auth components
- Deploys

**Duration**: 5-10 minutes

### Workflow 3: TypeScript Conversion

Migrate JavaScript implementation to TypeScript:

```bash
"Convert this project to TypeScript"
```

**Duration**: 15-30 minutes

## Real-World Examples

### Creating a Todo App

```
User: "Create a todo list app with Firebase. Handle backend, database, and deployment"

Claude:
✅ npx firebase projects:create todo-app-1729680000 --display-name "Todo App"
✅ npx firebase apps:create WEB "Todo App Web"
✅ npx firebase apps:sdkconfig WEB 1:xxx:web:xxx
   → Extracted API keys
✅ npm create vite@latest todo-app -- --template react
✅ npm install firebase
✅ Write(.env) with real API keys
✅ Write(src/firebase/config.js) with actual config
✅ Write(src/App.jsx) with todo CRUD logic
✅ npx firebase deploy --only firestore:rules
✅ npm run build
✅ npx firebase deploy --only hosting

Result: https://todo-app-1729680000.web.app
```

### Creating a Chat App

```
User: "Build a real-time chat app with Firebase"

Claude:
✅ Creates Firebase project
✅ Creates React project
✅ Implements real-time message components
✅ Sets up Firestore real-time listeners
✅ Deploys

Result: Live chat app
```

## Firebase-First Workflow (v3.2.0)

### Why Firebase First?

**Old Way (Inefficient)**:
```
1. Create React project (dummy code)
2. Create Firebase project
3. Get Firebase config
4. Overwrite dummy files ← Wasteful!
```

**New Way (Efficient)**:
```
1. Create Firebase project ← First!
2. Get Firebase config
3. Create React project ← Config ready
4. Write .env once ← No overwriting!
```

**Benefits**:
- ✅ 50% fewer file operations
- ✅ No placeholder values (real values from start)
- ✅ Faster execution
- ✅ Cleaner workflow

## Key Patterns

### Vite Environment Variables

```javascript
// ✅ Correct (Vite)
const apiKey = import.meta.env.VITE_FIREBASE_API_KEY;

// ❌ Wrong (Node.js pattern)
const apiKey = process.env.VITE_FIREBASE_API_KEY;
```

### Firestore Timestamps

```javascript
import { serverTimestamp } from 'firebase/firestore';

// ✅ Correct - server time (timezone-safe)
await addDoc(collection(db, 'todos'), {
  createdAt: serverTimestamp()
});

// ❌ Wrong - client time (timezone issues)
await addDoc(collection(db, 'todos'), {
  createdAt: new Date()
});
```

### Real-time Listener Cleanup

```javascript
// ✅ Always unsubscribe to prevent memory leaks
useEffect(() => {
  const unsubscribe = onSnapshot(q, (snapshot) => {
    setData(snapshot.docs.map(doc => doc.data()));
  });

  return () => unsubscribe(); // Required!
}, []);
```

### User-Specific Data Isolation

```javascript
// ✅ Always include userId (enables security rules)
await addDoc(collection(db, 'todos'), {
  text: 'Buy milk',
  userId: user.uid,  // Required!
  createdAt: serverTimestamp()
});
```

## Security Rules

Auto-applied security rules by the skill:

```
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{collection}/{document} {
      // Authenticated users can only read their own data
      allow read: if request.auth != null &&
                     resource.data.userId == request.auth.uid;

      // Can only create own data
      allow create: if request.auth != null &&
                       request.resource.data.userId == request.auth.uid;

      // Can only update/delete own data
      allow update, delete: if request.auth != null &&
                               resource.data.userId == request.auth.uid;
    }
  }
}
```

**Effects**:
- ✅ User A cannot see User B's data
- ✅ Unauthenticated users cannot do anything
- ✅ Applies to all collections

## Troubleshooting

### Tailwind CSS Not Working

**Symptom**: Styles not applied

**Cause**: Tailwind v4 installed (CLI compatibility issue)

**Fix**: Skill automatically installs v3
```bash
npm install -D tailwindcss@^3
```

### Firestore API Not Enabled

**Symptom**: `HTTP Error: 403, Cloud Firestore API has not been used`

**Fix**: Automatically resolved by `firebase deploy --only firestore`

### Authentication Not Configured

**Symptom**: `auth/configuration-not-found`

**Cause**: Auth providers need to be enabled in Firebase Console

**Fix**: Skill provides direct link
```
🔗 https://console.firebase.google.com/project/<project-id>/authentication/providers
```

**Manual work time**: 2-3 minutes

### Google Sign-in Popup Blocked

**Fix**: Allow popups for localhost and Firebase domain in browser

## Time Comparison

| Task | Manual Setup | With This Skill |
|------|--------------|-----------------|
| Project creation | 30 min | 2 min |
| Firebase setup | 45 min | 3 min (auto) |
| Firestore setup | 30 min | 2 min (auto) |
| Auth implementation | 60 min | 5 min |
| Deployment setup | 30 min | 2 min (auto) |
| **Total** | **2-3 hours** | **10-15 min** |

**Time saved**: Minimum 1.5 hours

## Dependencies

Tested versions:
- Node.js 18+
- React 19
- Vite 7
- Firebase SDK 12
- Firebase CLI 14+
- Tailwind CSS 3

## Version History

### Latest: 3.2.0 (2025-10-23)

**Major improvements**:
- 🚀 Firebase-First workflow
- ✅ Removed file overwriting (2x efficiency)
- ✅ Always creates new project
- ✅ Writes real API keys from start

**Previous versions**:
- **3.1.0** - Fixed skill not triggering on first prompt
- **3.0.0** - Imperative workflow format (actually executes)
- **2.0.0** - Official skill format applied
- **1.0.0** - Initial release

Details: [CHANGELOG.md](CHANGELOG.md)

## Limitations

### Firebase Authentication Manual Activation

**Issue**: Firebase CLI cannot auto-enable Authentication providers (OAuth2 requirement)

**Solution**:
1. Skill auto-creates project
2. Skill provides direct link:
   ```
   🔗 https://console.firebase.google.com/project/<project-id>/authentication/providers
   ```
3. Click link → Enable Email/Password → Save
4. Skill auto-redeploys

**Manual work time**: Only 2-3 minutes required

## License

MIT License - Free to use, modify, and distribute

## Contributing

This skill follows [Anthropic Skill Best Practices](https://docs.claude.com/en/docs/agents-and-tools/agent-skills/best-practices):
- Conciseness (removes Claude's existing knowledge)
- Progressive Disclosure (main file references detailed guides)
- Clear activation triggers
- Validation checklists for each workflow

## Support

For issues or questions:
1. Check `SKILL.md` (complete workflows)
2. Check `firebase-cli.md` (CLI command reference)
3. Check `component-patterns.md` (implementation details)
4. Check relevant guides in `guides/` directory

## Links

- **Repository**: https://github.com/jkf87/react-firebase-skill
- **Issues**: https://github.com/jkf87/react-firebase-skill/issues
- **Documentation**: [SKILL.md](SKILL.md)
- **Changelog**: [CHANGELOG.md](CHANGELOG.md)
- **Korean README**: [README.ko.md](README.ko.md)

---

**Made with** ❤️ **for rapid React + Firebase development**
